# 5 букв
Сервис стандартной игры в слова (5 букв, Wordle).
Это HTTP-сервер с RESTful API, который принимает запросы и умеет выполнять следующие операции:
* создает новую игру (для нее слово выбирается случайно из словаря);
* реализует попытку угадать слово с указанием конкретной игры; ответ сервера содержит информацию согласно правилам игры: какие буквы угаданы, какие из них на своих местах. Если попыток больше нет, должен возвращаться соответствующий код ошибки в запросе

## Концепция решения
Планируется реализовать два эндпойнта -- один для создания комнаты, другой для попытки отгадывания слова в созданной комнате:

| Название действия  | Локейшн (URL)          | Тип запроса | Описание запроса и ответа                                                                                                                                                                              |
|--------------------|------------------------|-------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Создание комнаты   | `/rooms`               | POST        | Возвращает идентификатор созданной комнаты и количество попыток в формате JSON                                                                                                                         |
| Попытка угадывания | `/rooms/{id}/attempts` | POST        | Принимает слово `guess` в формате JSON и идентификатор комнаты как часть локейшна, возвращает ответ на принятое слово, количество оставшихся попыток и опционально загаданное слово (см. примеры ниже) |


### Создание комнаты
`POST /rooms`
Вызов этого эндпойнта создает комнату, в которой загадывается (выбирается рандомно из заранее определенного списка) слово. В ответе возвращается объект в формате JSON, содержащий идентификатор созданной комнаты `room_id` (натуральное число) и доступное количество попыток `attempts` (натуральное число):
```json
{
    "room_id": "01234567789abcdef",
    "attempts": 6
}
```

Этот метод возвращает `201 Created`, подтверждая, что комната была создана. Был выбран метод POST, так как согласно архитектуре REST, он соответствует созданию ресурса "Комната".

### Попытка угадывания
`POST /rooms/{id}/attempts`
Вызов этого эндпойнта эквивалентен попытке угадать слово. Используется POST, так как семантически это эквивалентно созданию (сохранению) попытки (`attempts`) для комнаты (`rooms`) с идентификатором `{id}`.
В теле запроса (объект в формате JSON) содержится единственная строка `guess`, обозначающая слово, которое пользователь пробует угадать:
```json
{
    "guess": "МЕШОК"
}
```
Слово должно состоять ровно из пяти букв русского алфавита. Буквы могут быть в разном регистре.

В ответ приходит объект в формате JSON, содержащий три или четыре значения:
* `response` -- список из пяти цифр 0, 1, или 2;
* `attempts` -- количество оставшихся попыток (не передается, если попыток не осталось);
* `solution` -- строка, обозначающая загаданное слово (не передается, если `attempts` больше нуля).

Пример ответа на запрос, после которого еще остались попытки:
```json
{
    "response": [1, 0, 0, 2, 0],
    "attempts": 3
}
```

Пример ответа на запрос, в котором слово угадано:
```json
{
    "response": [2, 2, 2, 2, 2],
    "solution": "ИЗЛОМ"
}
```

Пример ответа на запрос, после которого закончились попытки:
```json
{
    "response": [1, 0, 0, 2, 0],
    "solution": "ИЗЛОМ"
}
```

В последних двух примерах комната автоматически удаляется, и последующие попытки отгадывания приведут к ошибке `404 Not Found` (см. ниже). В таком случае вместо кода ответа `200 OK` вернется код ответа `205 Reset Content`, дополнительно сигнализирующий о том, что попыток не осталось, и клиент должен "сбросить" игровую сессию.

В списке цифр `response` каждый элемент соответствует положению буквы в том слове, которое было передано в запросе. Если буквы нету в загаданном слове, то на ее месте в `response` будет стоять 0. Если она есть, но стоит на другой позиции, то на ее месте будет стоять 1. Если она есть и стоит на этой позиции, то на ее месте будет стоять 2.

#### Ошибки
##### Передан идентификатор несуществующей или завершенной комнаты
Код ответа `404 Not Found`. Тело ответа:
```json!
{
    "error": "Комната с таким идентификатором не существует или игра в ней была завершена"
}
```
##### Длина переданного слова не равна 5
Код ответа `400 Bad Request`. Тело ответа:
```json!
{
    "error": "Предложенное слово состоит не из пяти символов"
}
```
##### Переданное слово содержит не только буквы русского алфавита
Код ответа `400 Bad Request`. Тело ответа:
```json!
{
    "error": "Предложенное слово содержит иные символы, кроме букв русского алфавита"
}
```